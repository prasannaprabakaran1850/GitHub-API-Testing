package testscript;

import base.TestBase;
import com.relevantcodes.extentreports.LogStatus;
import endpoints.RepositoryEndpoint;
import org.testng.annotations.Test;

public class VulnerabilityTest extends TestBase {
    String repoName;
    RepositoryEndpoint repositoryEndpoint =new RepositoryEndpoint();

    /***
     * This method is used enable vulnerability alerts for a repository
     */
    @Test(priority = 1)
    public void enableVulnerabilityTest(){
        report.log(LogStatus.INFO,"Check vulnerability repository test");
        repoName=repositoryEndpoint.verifyCreateRepository();
        repositoryEndpoint.verifyEnableVulnerability(repoName);
    }

    /***
     * This method is used disable vulnerability alerts for a repository
     */
    @Test(priority = 2)
    public void disableVulnerabilityTest(){
        report.log(LogStatus.INFO,"Disable vulnerability repository test");
        repositoryEndpoint.verifyDisableVulnerability(repoName);
        repositoryEndpoint.verifyDeleteRepository(repoName);
    }
}
